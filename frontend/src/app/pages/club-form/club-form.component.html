<div class="row">
  <div class="col-md-12 mb-4">
    <h2>{{ isEditMode ? 'Editar' : 'Nuevo' }} Club - {{ campName }}</h2>
  </div>
  <div class="col-md-12">
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <form [formGroup]="clubForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="name" class="form-label">Nombre</label>
        <input
          type="text"
          class="form-control"
          id="name"
          formControlName="name"
          required
        />
        <div
          *ngIf="name?.invalid && (name?.dirty || name?.touched)"
          class="text-danger"
        >
          <small *ngIf="name?.errors?.['required']"
            >El nombre es requerido</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="city" class="form-label">Ciudad</label>
        <input
          type="text"
          class="form-control"
          id="city"
          formControlName="city"
          required
        />
        <div
          *ngIf="city?.invalid && (city?.dirty || city?.touched)"
          class="text-danger"
        >
          <small *ngIf="city?.errors?.['required']"
            >La ciudad es requerida</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="participantsCount" class="form-label"
          >Número de Participantes</label
        >
        <input
          type="number"
          class="form-control"
          id="participantsCount"
          formControlName="participantsCount"
          min="0"
          required
        />
        <div
          *ngIf="
            participantsCount?.invalid &&
            (participantsCount?.dirty || participantsCount?.touched)
          "
          class="text-danger"
        >
          <small *ngIf="participantsCount?.errors?.['required']"
            >El número de participantes es requerido</small
          >
          <small *ngIf="participantsCount?.errors?.['min']"
            >El número debe ser mayor o igual a 0</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="guestsCount" class="form-label">Número de Invitados</label>
        <input
          type="number"
          class="form-control"
          id="guestsCount"
          formControlName="guestsCount"
          min="0"
          required
        />
        <div
          *ngIf="
            guestsCount?.invalid && (guestsCount?.dirty || guestsCount?.touched)
          "
          class="text-danger"
        >
          <small *ngIf="guestsCount?.errors?.['required']"
            >El número de invitados es requerido</small
          >
          <small *ngIf="guestsCount?.errors?.['min']"
            >El número debe ser mayor o igual a 0</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="economsCount" class="form-label">Número de Ecónomas</label>
        <input
          type="number"
          class="form-control"
          id="economsCount"
          formControlName="economsCount"
          min="0"
          required
        />
        <div
          *ngIf="
            economsCount?.invalid &&
            (economsCount?.dirty || economsCount?.touched)
          "
          class="text-danger"
        >
          <small *ngIf="economsCount?.errors?.['required']"
            >El número de ecónomas es requerido</small
          >
          <small *ngIf="economsCount?.errors?.['min']"
            >El número debe ser mayor o igual a 0</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="registrationFee" class="form-label"
          >Valor de Inscripción</label
        >
        <input
          type="number"
          class="form-control"
          id="registrationFee"
          formControlName="registrationFee"
          min="0"
          step="0.01"
          required
        />
        <div
          *ngIf="
            registrationFee?.invalid &&
            (registrationFee?.dirty || registrationFee?.touched)
          "
          class="text-danger"
        >
          <small *ngIf="registrationFee?.errors?.['required']"
            >El valor de inscripción es requerido</small
          >
          <small *ngIf="registrationFee?.errors?.['min']"
            >El valor debe ser mayor o igual a 0</small
          >
        </div>
      </div>

      <div class="mb-3 form-check">
        <input
          type="checkbox"
          class="form-check-input"
          id="isPaid"
          formControlName="isPaid"
        />
        <label class="form-check-label" for="isPaid">Pagado</label>
      </div>

      <div class="d-flex gap-2">
        <button
          type="submit"
          [disabled]="clubForm.invalid || isLoading"
          class="btn btn-primary"
        >
          <span
            *ngIf="isLoading"
            class="spinner-border spinner-border-sm me-2"
            role="status"
            aria-hidden="true"
          ></span>
          Guardar
        </button>
        <button
          type="button"
          class="btn btn-secondary"
          [routerLink]="['/camps', campId, 'clubs']"
        >
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
